require_relative '../src/assembler'

describe 'assembler ' do

  describe 'without labels' do
    it 'assembles Add.asm' do
      assembler = Assembler.new 'spec/add/Add.asm'
      expect(assembler.assemble).to eq "0000000000000010
1110110000010000
0000000000000011
1110000010010000
0000000000000000
1110001100001000"
    end

    it 'assembles MaxL.asm' do
      assembler = Assembler.new 'spec/max/MaxL.asm'
      expect(assembler.assemble).to eq "0000000000000000
1111110000010000
0000000000000001
1111010011010000
0000000000001010
1110001100000001
0000000000000001
1111110000010000
0000000000001100
1110101010000111
0000000000000000
1111110000010000
0000000000000010
1110001100001000
0000000000001110
1110101010000111"
    end

    it 'assembles RectL.asm' do
      assembler = Assembler.new 'spec/rect/RectL.asm'
      expect(assembler.assemble).to eq "0000000000000000
1111110000010000
0000000000010111
1110001100000110
0000000000010000
1110001100001000
0100000000000000
1110110000010000
0000000000010001
1110001100001000
0000000000010001
1111110000100000
1110111010001000
0000000000010001
1111110000010000
0000000000100000
1110000010010000
0000000000010001
1110001100001000
0000000000010000
1111110010011000
0000000000001010
1110001100000001
0000000000010111
1110101010000111"
    end

  end

  describe 'with labels' do
    it 'assembles Max.asm' do
      assembler = Assembler.new 'spec/max/Max.asm'
      expect(assembler.assemble).to eq "0000000000000000
1111110000010000
0000000000000001
1111010011010000
0000000000001010
1110001100000001
0000000000000001
1111110000010000
0000000000001100
1110101010000111
0000000000000000
1111110000010000
0000000000000010
1110001100001000
0000000000001110
1110101010000111"
    end

  end



end
